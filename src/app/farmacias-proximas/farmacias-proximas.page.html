<ion-header [translucent]="true">
  <ion-toolbar style="--background: #20A0B1;">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Farmácias Próximas</ion-title>
    <ion-buttons slot="end">
      <ion-back-button defaultHref="/painel/:id"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content id="main-content">

  <ion-tabs>
    <!-- Componente Tabs -->
    <ion-tab-bar slot="bottom" style="--background: #20A0B1;">
      <ion-tab-button tab="home">
        <ion-icon name="home-outline" routerLink="/home"></ion-icon>
        <ion-label>Home</ion-label>
      </ion-tab-button>
      <ion-tab-button tab="farmacias">
        <ion-icon name="medkit-outline" routerLink="/farmacias-proximas/:id"></ion-icon>
        <ion-label>Farmácias</ion-label>
      </ion-tab-button>
      <ion-tab-button tab="bulas">
        <ion-icon name="document-text-outline"></ion-icon>
        <ion-label>Bulas</ion-label>
      </ion-tab-button>
    </ion-tab-bar>

    <ion-tab tab="farmacias-proximas">
      <ion-content [fullscreen]="true" class="content">
        <div class="pharmacy-container">
          <h2>Encontre Farmácias Próximas</h2>
          <ion-button (click)="atualizarLocalizacao()">Atualizar Localização</ion-button><br><br>
          <ion-list>
            <ion-item *ngFor="let farmacia of farmacias" class="pharmacy-card">
              <ion-label>
                <h3>{{ farmacia.nome }}</h3>
                <p>{{ farmacia.endereco }}</p>
                <p>Telefone: {{ farmacia.telefone }}</p>
              </ion-label>
            </ion-item>
      
            <ion-item *ngIf="farmacias.length === 0">
              <ion-label>
                <h3>Nenhuma farmácia encontrada nas proximidades.</h3>
              </ion-label>
            </ion-item>
          </ion-list>
      
          <ion-item *ngIf="!hasPermission">
            <ion-label>
              <h3>Por favor, ative a permissão de localização para ver farmácias próximas.</h3>
            </ion-label>
          </ion-item>
        </div>
      </ion-content>
    </ion-tab>

  </ion-tabs>

</ion-content>

<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBZinOIYsyMmZksMmIux7NMhMX9Z0F8M70&libraries=places"></script>
